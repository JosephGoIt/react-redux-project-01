"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[998],{1998:(e,s,a)=>{a.r(s),a.d(s,{default:()=>H});var t=a(2791),n=a(7689),r=a(4420),c=a(5985);const i=(e,s)=>{let a=7;return s<1440&&(a=6),e.length>a?`${e.slice(0,a)}...`:e},o=(e,s)=>s<1440?`${e.slice(0,5)}...`:s>=1440?`${e.slice(0,14)}`:void 0;var l=a(6441),d=a(9930),m=a(9302);const h={};var _=a(1188),x=a(3329);const u=e=>{let{item:s,handleOpenModal:a}=e;const[u,j]=(0,t.useState)(window.innerWidth),{transactionsType:p}=(0,n.UO)();(0,t.useEffect)((()=>{function e(){j(window.innerWidth)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const T=(0,r.I0)(),y=(0,r.v9)(_.j);return(0,x.jsxs)("ul",{className:h.tr,children:[(0,x.jsx)("li",{className:h.td,children:i(s.category.categoryName,u)}),(0,x.jsx)("li",{className:h.td,children:i(s.comment,u)}),(0,x.jsx)("li",{className:h.td,children:o((e=>{const s=new Date(e),a=["Mo","Tu","We","Th","Fr","Sa","Su"][s.getDay()],t=s.getDate(),n=s.getMonth()+1,r=s.getFullYear();return`${a}, ${"0"===t[0]?t.substring(1):t}.${n.toString().padStart(2,"0")}.${r}`})(s.date),u)}),(0,x.jsx)("li",{className:h.td,children:s.time}),(0,x.jsxs)("li",{className:h.td,children:[s.sum," / ",y.toUpperCase()]}),(0,x.jsx)("li",{className:h.td,children:(0,x.jsxs)("div",{className:h.btnContainer,children:[(0,x.jsxs)("button",{className:h.btnTable,onClick:()=>a(s),children:[(0,x.jsx)("div",{className:h.textEdit,children:"Edit"}),(0,x.jsx)(d.JO,{name:"edit",className:h.iconEdit,size:"16"})]}),(0,x.jsxs)("button",{className:h.btnTableDel,onClick:()=>{return e=s._id,void T((0,l.Ks)(e)).unwrap().then((()=>{T((0,m.k)()),T((0,l.f1)({type:p})),c.Am.success("Transaction deleted successfully")})).catch((e=>c.Am.error("Something wrong !")));var e},children:[(0,x.jsx)(d.JO,{name:"trash-bin",className:h.iconDelete,size:"16"}),(0,x.jsx)("div",{className:h.textCont,children:(0,x.jsx)("span",{children:"Delete"})})]})]})})]},s._id)};var j=a(4337),p=a(3135),T=a(2377),y=a(9321),N=a(9554);const v="TransactionsMessage_message__sY73g",g=e=>{let{message:s}=e;return(0,x.jsx)("h2",{className:v,children:s})},f="TransactionsList_containerTable__rnVmV",w="TransactionsList_listTable__JzalU",C="TransactionsList_thead__cvmoU",S="TransactionsList_th__pmFFm",k="TransactionsList_tr__8qRgO",M="TransactionsList_tbody__7w5DG",b=()=>{const{transactionsType:e}=(0,n.UO)(),s=(0,r.I0)(),a=(0,r.v9)(p.ig),[i,o]=(0,T.dd)(),d=(0,r.v9)(j.AD),h=a.filter((e=>e.category.categoryName.toLowerCase().includes(d.toLowerCase())||e.comment.toLowerCase().includes(d.toLowerCase())||e.date.includes(d)||e.time.includes(d)||e.sum.toString().includes(d))),[_,v]=(0,t.useState)({}),b=e=>{v(e),o()};return(0,x.jsxs)("div",{className:`${f} scroll scrollB `,children:[(0,x.jsxs)("div",{className:w,children:[(0,x.jsx)("div",{className:C,children:(0,x.jsxs)("ul",{className:k,children:[(0,x.jsx)("li",{className:S,children:"Category"}),(0,x.jsx)("li",{className:S,children:"Comment"}),(0,x.jsx)("li",{className:S,children:"Date"}),(0,x.jsx)("li",{className:S,children:"Time"}),(0,x.jsx)("li",{className:S,children:"Sum"}),(0,x.jsx)("li",{className:S,children:"Actions"})]},"111111")}),(0,x.jsxs)("div",{className:`${M} scroll scrollB`,children:[0===a.length&&(0,x.jsx)(g,{message:`Transaction ${e} list is empty!`}),0!==h.length&&h.map((e=>(0,x.jsx)(u,{item:e,handleOpenModal:b},e._id))),d&&0===h.length&&0!==a.length&&(0,x.jsx)(g,{message:"Nothing found by filter!"})]})]}),i&&(0,x.jsx)(y.u,{toggleModal:o,children:(0,x.jsx)(N.v,{transaction:_,onSubmitForm:a=>{s((0,l.vF)(a)).unwrap().then((()=>{s((0,m.k)()),s((0,l.f1)({type:e})),c.Am.success("Transaction edited successfully!"),o()})).catch((e=>{c.Am.error("Something went wrong!")}))}})})]})};var D=a(9513),A=a.n(D),L=a(6712),U=a(2927),E=a(904);const O={formContainer:"TransactionsSearchTools_formContainer__L1znS",formBox:"TransactionsSearchTools_formBox__6AVYx",formInput:"TransactionsSearchTools_formInput__Rh6eq",formCalendar:"TransactionsSearchTools_formCalendar__TAbGt",datePicker:"TransactionsSearchTools_datePicker__gFkLv",datepickerContainer:"TransactionsSearchTools_datepickerContainer__FHBMB","react-datepicker-wrapper":"TransactionsSearchTools_react-datepicker-wrapper__J50Bl",filterContainer:"TransactionsSearchTools_filterContainer__oF5ZW",iconSearch:"TransactionsSearchTools_iconSearch__RJ6M+",iconDate:"TransactionsSearchTools_iconDate__NhUU6"},F=e=>{let{handleOpenModal:s,type:a}=e;const n=(0,r.I0)(),c=(0,r.v9)(j.AD);(0,t.useEffect)((()=>{n((0,j.sx)())}),[a,n]);const i=(0,r.v9)(j.iY);return(0,x.jsx)("div",{className:O.formContainer,children:(0,x.jsxs)("form",{action:"",className:O.formBox,children:[(0,x.jsxs)("div",{className:O.filterContainer,children:[(0,x.jsx)("input",{value:c,onChange:e=>{n((0,j.M6)(e.target.value))},type:"text",className:O.formInput,placeholder:"Search for anything.."}),(0,x.jsx)(U.J,{name:"search",className:O.iconSearch,size:"20"})]}),(0,x.jsxs)("div",{className:O.datepickerContainer,children:[(0,x.jsx)(A(),{className:O.formCalendar,selected:i,onChange:e=>{n(e?(0,j.Mv)((0,L.WU)(e,"yyyy-MM-dd")):(0,j.Mv)((0,L.WU)(new Date,"yyyy-MM-dd")))},showPopperArrow:!1,maxDate:new Date,placeholderText:"dd/mm/yyyy"}),(0,x.jsx)(U.J,{name:"calendar",className:O.iconDate,size:"20"})]}),(0,x.jsx)(E.Y,{action:()=>{n((0,j.sx)())},type:"reset"}),(0,x.jsx)(E.Y,{className:O.addBtn,action:s})]})})};var $=a(3986);const z="TransactionsHistory_container__yz97E",B="TransactionsHistory_historyTitle__dZMeU",I="TransactionsHistory_historyText__ECljE",Y="TransactionsHistory_textContainer__YuU5U",J="TransactionsHistory_historyAmount__IEoNU",H=()=>{const{transactionsType:e}=(0,n.UO)(),s=(0,r.v9)(p.aD),a=(0,r.v9)(p.XY),i=(0,r.I0)(),o=(0,r.v9)(j.iY);(0,t.useEffect)((()=>{i(o?(0,l.f1)({type:e,date:o}):(0,l.f1)({type:e}))}),[o,i,e]);const[d,h]=(0,T.dd)();return(0,x.jsxs)("div",{className:z,children:[(0,x.jsxs)("div",{className:Y,children:[(0,x.jsx)("h2",{className:B,children:"text"}),(0,x.jsx)("p",{className:I,children:"description"})]}),(0,x.jsx)("div",{className:J,children:(0,x.jsx)($.O,{totalAllExpenses:s,totalAllIncomes:a})}),(0,x.jsx)(F,{handleOpenModal:h,type:e}),(0,x.jsx)(b,{}),d&&(0,x.jsx)(y.u,{toggleModal:h,children:(0,x.jsx)(N.v,{onSubmitForm:s=>{i((0,l.dT)(s)).unwrap().then((()=>{i((0,m.k)()),i((0,l.f1)({type:e})),h(),c.Am.success("Transaction added successfully!"),i((0,j.sx)())})).catch((e=>{c.Am.error("Something went wrong!")}))},transactionsType:e,history:e})})]})}}}]);
//# sourceMappingURL=998.2a374392.chunk.js.map